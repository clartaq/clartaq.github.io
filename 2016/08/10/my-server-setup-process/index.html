<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.62.1" />

  <title>My Server Setup Process &middot; Yo-Dave</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://yo-dave.com/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://yo-dave.com/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://yo-dave.com/css/clajburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css"> 
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet"> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/clojure.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/dos.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="https://yo-dave.com/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <div class="pure-menu">
    <a class="pure-menu-heading" href="https://yo-dave.com/">Yo-Dave</a>
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://yo-dave.com/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://yo-dave.com/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://yo-dave.com/about/about"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://yo-dave.com/contact/contact"><i class='fa fa-phone fa-fw'></i>Contact</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href=""></a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/clartaq" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://bitbucket.org/David_Clark" target="_blank"><i class="fa fa-bitbucket-square fa-fw"></i>Bitbucket</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://stackoverflow.com/users/193509" target="_blank"><i class="fa fa-stack-overflow fa-fw"></i>Stack Overflow</a>
    </li>
    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2011-2018, David D. Clark. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Clajburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>My Server Setup Process</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>10 Aug 2016 3:58:09 PM</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="https://yo-dave.com/tags/pcs-and-macs">pcs (and macs)</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://yo-dave.com/tags/linux">linux</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://yo-dave.com/tags/servers">servers</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://yo-dave.com/tags/ubuntu">ubuntu</a>
    
  </div>
  
  

</div>

  <p><a href="https://yo-dave.com/2016/02/12/cloudatcost-setup-notes/">Earlier</a>, I posted about how I set up servers hosted at <a href="http://cloudatcost.com/">CloudAtCost</a>. There have been a few changes to that process. Rather than continually patching that post, hereâ€™s a new description. Again, this is for <a href="http://www.ubuntu.com/">Ubuntu</a> 14.04 which gets upgraded to 16.04 as part of the setup.</p>
<p>So, starting from a freshly imaged Ubuntu 14.04 system:</p>
<h2 id="update-the-system">Update the System</h2>
<p>The process starts by logging into the SSH server newly imaged machine as root. The first thing to do is update Ubuntu with the following commands</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">root@ubuntu:~# apt-get update
root@ubuntu:~# apt-get upgrade
</code></pre></div><p>This can take some time as it will upgrade a <em>lot</em> of files.</p>
<p>After the upgrade is complete, you may be prompted to reboot. Hold off a second.</p>
<p>Now is as good a time as any to reset the host name. This involves simple edits to two files. In no particular order:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">root@ubuntu:~# nano /etc/hostname
</code></pre></div><p>This file contains a single line, which you should set to your host name, e.g. <code>example.com</code>.</p>
<p>Next, edit the <code>hosts</code> file (<code>nano /etc/hosts</code>). Find the line that contains the IP address 127.0.<strong>1</strong>.1. Change it to include your new host name, e.g.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">127.0.1.1    example.com
</code></pre></div><p>Now, reboot.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">root@ubuntu:~# reboot
</code></pre></div><p>This will break the SSH connection of course. So wait a few minutes for the reboot to complete, then log back in.</p>
<p>When you log back in, your shell prompt should be different, showing the change to the host name:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">root@example:~#
</code></pre></div><p>There may also be a message about the availability of a new Ubuntu release.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">New release <span style="color:#e6db74">&#39;16.04.1 LTS&#39;</span> available.
Run <span style="color:#e6db74">&#39;do-release-upgrade&#39;</span> to upgrade to it.
</code></pre></div><p>If your hosting service allows it, just do it. Again, it can be a bit of a long wait. After the system checks on what it needs to remove and install to do the update, it will ask you if you want to proceed. It allows you to cancel or check on details before proceeding. If you want the upgrade, respond with a &ldquo;y&rdquo; to start the upgrade. On my systems, there are a few prompts about updating scripts (or not). Just select the defaults, which don't make changes.</p>
<p>At the end of the process, go ahead and reboot again.</p>
<p>When you log back in, you will be running Ubuntu 16.04. If there is no log on message showing the version, you can check with</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">root@example:~# lsb_release -a
</code></pre></div><p>On my system, that displays the following message.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 16.04.1 LTS
Release:        16.04
Codename:       xenial
</code></pre></div><h2 id="create-a-new-user-with-super-powers">Create a New User with Super Powers</h2>
<p>Next, we want to add a new user who is not root but can have all of the powers of root when needed.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">root@example:~# adduser user-name
Adding user <span style="color:#e6db74">&#39;user-name&#39;</span> ...
Adding new group <span style="color:#e6db74">&#39;user-name&#39;</span> <span style="color:#f92672">(</span>1001<span style="color:#f92672">)</span> ...
Adding new user <span style="color:#e6db74">&#39;user-name&#39;</span> <span style="color:#f92672">(</span>1001<span style="color:#f92672">)</span> with group <span style="color:#e6db74">&#39;user-name&#39;</span> ...
Creating home directory <span style="color:#e6db74">&#39;/home/user-name&#39;</span> ...
Copying files from <span style="color:#e6db74">&#39;/etc/skel&#39;</span> ...
Enter new UNIX password:
Retype new UNIX password:
passwd: password updated successfully
Changing the user information <span style="color:#66d9ef">for</span> user-name
Enter the new value, or press ENTER <span style="color:#66d9ef">for</span> the default
        Full Name <span style="color:#f92672">[</span><span style="color:#f92672">]</span>: Super User
        Room Number <span style="color:#f92672">[</span><span style="color:#f92672">]</span>:
        Work Phone <span style="color:#f92672">[</span><span style="color:#f92672">]</span>:
        Home Phone <span style="color:#f92672">[</span><span style="color:#f92672">]</span>:
        Other <span style="color:#f92672">[</span><span style="color:#f92672">]</span>:
Is the information correct? <span style="color:#f92672">[</span>Y/n<span style="color:#f92672">]</span>
root@example:~# 
</code></pre></div><p>Of course, the name you use can be anything, not just &ldquo;user-name&rdquo; (or &ldquo;root&rdquo;).</p>
<p>At this point, we can tell the system to allow the new user root access by adding them to the &ldquo;sudo&rdquo; group.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">root@example:~# gpasswd -a user-name sudo
Adding user user-name to group sudo
</code></pre></div><p>Now, you can log off as root and log back in as your new user. It's important to know that you can log in with this new user because in a moment, we are going to change settings such that you will no longer be able to log in remotely as root.</p>
<h2 id="set-up-public-key-ssh-access">Set Up Public Key SSH Access</h2>
<p>Public key access is an additional method to authenticate yourself when signing into your server. It is considered to be more secure and flexible, but a little more difficult to set up. I think it is only more difficult in that there are more steps to do, none of which are particularly difficult. Just sayin&rsquo;.</p>
<p>First off, you need public and private encryption keys. If you don't know what I'm talking about, <a href="http://tartarus.org/~simon/putty-snapshots/htmldoc/Chapter8.html">take a look here</a>. After reading it, if you really think it&rsquo; too difficult, you can skip the remainder of this section, otherwise, follow along.</p>
<p>I usually start by changing the permissions of my home directory.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ chmod <span style="color:#ae81ff">750</span> ~
</code></pre></div><p>These permissions mean I can read/write/execute in my directory. Members of my group (usually no one else at this point) can read and execute, but not write into the directory. Others can't do any of those things.</p>
<p>Next you need to create a place to save public encryption keys. By convention, this is a sub-directory of your home directory.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ mkdir .ssh
user-name@example:~$ chmod <span style="color:#ae81ff">700</span> .ssh
</code></pre></div><p>These permissions mean that only I can read/write/execute in the <code>.ssh</code> directory.</p>
<p>Since I do it so often, I have a file on the system that I use to set up the servers called <code>authorized_keys</code>. In that file, I have concatenated all of the public encryption keys that I tend to use on my servers. It's just a text file that I need to be able to send to the new server. <strong>Make sure</strong> that only your <em>public</em> keys go in this file.</p>
<p>Now you need to be able to transfer that file into the <code>.ssh</code> directory on the server. If you only have PuTTY to work with, it's easy. Open the file in Windows first using whatever text editor you prefer and copy all of it to the clipboard (<code>Ctrl-A</code>, <code>Ctrl-C</code>). Then, on the server create the file, open it for editing, paste the contents of the clipboard (<code>Shift-Ins</code> is the PuTTY keystroke to paste from the clipboard), and finally save and close the file.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ touch .ssh/authorized_keys
user-name@example:~$ nano .ssh/authorized_keys
</code></pre></div><p>Next, set the permissions on the new <code>authorized_keys</code> file.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ chmod <span style="color:#ae81ff">600</span> .ssh/authorized_keys
</code></pre></div><p>These permissions mean that only you can read or write the file.</p>
<p>Now we want to change some of the things about the way the SSH program works. I change my settings such that SSH no longer uses the default port, no longer allows root logins to SSH, and allows only specific users to log in. As a super user, fire up the nano editor on the <code>/etc/ssh/sshd_config file</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ sudo nano /etc/ssh/sshd_config
</code></pre></div><p>First look for the line that says &ldquo;Port 22&rdquo; and change it to &ldquo;Port 1935&rdquo; or some other number. This line is about the fifth line in the file on my system.</p>
<p>Then find the line that reads &ldquo;PermitRootLogin yes&rdquo;. Change &ldquo;yes&rdquo; to &ldquo;no&rdquo;.</p>
<p>Next, go all the way to the bottom of the file. Add a few new lines with the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># user-name</span>
AllowUsers user-name
<span style="color:#75715e"># user-name</span>
</code></pre></div><p>The lines beginning with the &ldquo;#&rdquo; character are just comments to remind us of who made the change. Again, substitute your actual user name for &ldquo;user-name&rdquo;.</p>
<p>Save the file and close it (Ctrl-X, &ldquo;y&rdquo;, Return).</p>
<p>Now, restart the SSH service with:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ sudo service ssh restart
ssh stop/waiting
ssh start/running, process <span style="color:#ae81ff">1402</span>
</code></pre></div><p>The process number you see is likely to be different.</p>
<p>At this point you should still be able to log in with a password. Keep your existing session open. Open a new session and verify that you can log in with your password. In yet another session, verify that you can log in using public key access. This will usually involve starting SSH with a modified command line or starting PuTTY with a slightly different configuration. Either way, you must tell the client on your local machine where to access the <strong>private</strong> key to use with the public key on the server. Since I use PuTTy for this on Windows, I have a saved configuration the access to my private login credentials.</p>
<p>Once you have verified that you can log in using your public keys, edit the <code>/etc/ssh/sshd_config</code> file. Find the lines that read:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># Change to no to disable tunnelled clear text passwords</span>
<span style="color:#75715e">#PasswordAuthentication yes</span>
</code></pre></div><p>Uncomment the line and change the &ldquo;yes&rdquo; to &ldquo;no&rdquo;. Restart the ssh service.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ sudo service ssh restart
ssh stop/waiting
ssh start/running, process <span style="color:#ae81ff">1402</span>
</code></pre></div><p>Now, only authorized users can log in and they must use the more secure public key access.</p>
<h2 id="configuring-and-enabling-the-firewall">Configuring and Enabling the Firewall</h2>
<p>Ubuntu ships with ufw (the Uncomplicated Firewall) but does not enable it by default. For our purposes, we need a few changes then we can enable it. First, we need the change the firewall configuration a bit to let SSH listen on the port you specified in the <code>sshd_config</code> file. Then, if you are running a web server, you will want to allow HTTP access on port 80. If you are running HTTPS on a server, you will want to pass port 443 through as well.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ sudo ufw status
Status: inactive
user-name@example:~$ sudo ufw allow your_port_number/tcp
Rules updated
Rules updated <span style="color:#f92672">(</span>v6<span style="color:#f92672">)</span>
user-name@example:~$ sudo ufw allow 80/tcp
Rules updated
Rules updated <span style="color:#f92672">(</span>v6<span style="color:#f92672">)</span>
user-name@example:~$ sudo ufw allow 443/tcp
Rules updated
Rules updated <span style="color:#f92672">(</span>v6<span style="color:#f92672">)</span>
user-name@example:~$ sudo ufw enable
Command may disrupt existing ssh connections. Proceed with operation <span style="color:#f92672">(</span>y|n<span style="color:#f92672">)</span>? y
Firewall is active and enabled on system startup
user-name@example:~$
</code></pre></div><h2 id="quarantine-bad-actors-with-fail2ban">Quarantine Bad Actors with Fail2Ban</h2>
<p><a href="http://www.fail2ban.org/wiki/index.php/Main_Page">Fail2ban</a> is daemon that monitors frequent attempts to log into your system, and probing for exploits. It will ban IPs that repeatedly exhibit these suspicious activities. It's easy to set up and is pre-configured to work pretty well. It's &ldquo;set it and forget it.&rdquo;</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@example:~$ sudo apt-get install fail2ban
</code></pre></div><h2 id="automate-security-updates">Automate Security Updates</h2>
<p>The <code>sudo apt-get update; sudo apt-get upgrade</code> commands are almost reflexive for me now. However, in the event that you forget to do it for awhile or (heaven forbid!) go on an unplugged vacation, you can safely automate some of the update process. Generally, it's OK to automate security updates because of their few dependencies. Two files need to be edited/checked to enable automatic updating of security patches.</p>
<p>First, set the timing of updates by editing <code>/etc/apt/apt.conf.d/10periodic</code>. Modify it to look like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">APT::Periodic::Update-Package-Lists <span style="color:#e6db74">&#34;1&#34;</span>; 
APT::Periodic::Download-Upgradeable-Packages <span style="color:#e6db74">&#34;1&#34;</span>; 
APT::Periodic::AutocleanInterval <span style="color:#e6db74">&#34;7&#34;</span>; 
APT::Periodic::Unattended-Upgrade <span style="color:#e6db74">&#34;1&#34;</span>;
</code></pre></div><p>The contents are pretty self-explanatory.</p>
<p>Then edit <code>/etc/apt/apt.conf.d/50unattended-upgrades</code>. It should already be set up just right. Almost everything in the file is commented out. Just make sure that the first section looks like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">// Automatically upgrade packages from these <span style="color:#f92672">(</span>origin:archive<span style="color:#f92672">)</span> pairs
Unattended-Upgrade::Allowed-Origins <span style="color:#f92672">{</span>
        <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>distro_id<span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span>distro_codename<span style="color:#e6db74">}</span><span style="color:#e6db74">-security</span><span style="color:#e6db74">&#34;</span>;
//      <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>distro_id<span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span>distro_codename<span style="color:#e6db74">}</span><span style="color:#e6db74">-updates</span><span style="color:#e6db74">&#34;</span>;
//      <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>distro_id<span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span>distro_codename<span style="color:#e6db74">}</span><span style="color:#e6db74">-proposed</span><span style="color:#e6db74">&#34;</span>;
//      <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>distro_id<span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span>distro_codename<span style="color:#e6db74">}</span><span style="color:#e6db74">-backports</span><span style="color:#e6db74">&#34;</span>;
<span style="color:#f92672">}</span>;
</code></pre></div><p>As the name suggests, this allows security upgrades to run unattended but prevents others.</p>
<h2 id="time-zones-and-the-network-time-protocol">Time Zones and the Network Time Protocol</h2>
<p>It's likely that the time zone is already set correctly, but you can check with:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@ubuntu:~$ sudo dpkg-reconfigure tzdata
... your local time ...
... universal time ...
</code></pre></div><p>You can assure synchronization with the Network Time Protocol (NTP) by installing the ntp package.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">user-name@ubuntu:~$ sudo apt-get install ntp
</code></pre></div><p>At this point, you should be set up and ready to go.</p>

  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://yo-dave.com/2016/08/09/caddy-server-and-lets-encrypt/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://yo-dave.com/2016/08/09/caddy-server-and-lets-encrypt/">Caddy Server and Let&#39;s Encrypt</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="https://yo-dave.com/2016/08/13/my-favorite-pens/">My Favorite Pens</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://yo-dave.com/2016/08/13/my-favorite-pens/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>

</div>
</div>
<script src="https://yo-dave.com/js/ui.js"></script>






</body>
</html>

